<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Unity WebGL Player | Museo BTS</title>
		<link rel="shortcut icon" href="TemplateData/favicon.ico" />
		<link rel="stylesheet" href="TemplateData/style.css" />
		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
			integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
			integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
			crossorigin="anonymous"
		></script>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
			crossorigin="anonymous"
		/>
	</head>
	<body>
		<!-- As a heading -->
		<nav class="navbar navbar-light bg-light">
			<div class="container-fluid">
				<span class="navbar-brand mb-0 h1">Navbar</span>
			</div>
		</nav>

		<div id="Main" style="width: 100%; height: 100vh">
			<h3>Main</h3>
		</div>

		<div id="unity-container" class="unity-desktop">
			<canvas id="unity-canvas" width="100%" height="90vh"></canvas>
			<div id="unity-loading-bar">
				<div id="unity-logo"></div>
				<div id="unity-progress-bar-empty">
					<div id="unity-progress-bar-full"></div>
				</div>
			</div>
			<div id="unity-mobile-warning">
				WebGL builds are not supported on mobile devices.
			</div>
			<div id="unity-footer">
				<div id="unity-webgl-logo"></div>
				<div id="unity-fullscreen-button"></div>
				<div id="unity-build-title">Museo BTS</div>
			</div>
		</div>

		<div id="Controls" style="width: 100%; height: 100vh">
			<h3>Controls</h3>
		</div>

		<script>
			var buildUrl = "Build";
			var loaderUrl = buildUrl + "/Museo BTS.loader.js";
			var config = {
				dataUrl: buildUrl + "/Museo BTS.data",
				frameworkUrl: buildUrl + "/Museo BTS.framework.js",
				codeUrl: buildUrl + "/Museo BTS.wasm",
				streamingAssetsUrl: "StreamingAssets",
				companyName: "DarianLucia",
				productName: "Museo BTS",
				productVersion: "0.1",
			};

			var container = document.querySelector("#unity-container");
			var canvas = document.querySelector("#unity-canvas");
			var loadingBar = document.querySelector("#unity-loading-bar");
			var progressBarFull = document.querySelector("#unity-progress-bar-full");
			var fullscreenButton = document.querySelector("#unity-fullscreen-button");
			var mobileWarning = document.querySelector("#unity-mobile-warning");

			// By default Unity keeps WebGL canvas render target size matched with
			// the DOM size of the canvas element (scaled by window.devicePixelRatio)
			// Set this to false if you want to decouple this synchronization from
			// happening inside the engine, and you would instead like to size up
			// the canvas DOM size and WebGL render target sizes yourself.
			// config.matchWebGLToCanvasSize = false;

			if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
				container.className = "unity-mobile";
				// Avoid draining fillrate performance on mobile devices,
				// and default/override low DPI mode on mobile browsers.
				config.devicePixelRatio = 1;
				mobileWarning.style.display = "block";
				setTimeout(() => {
					mobileWarning.style.display = "none";
				}, 5000);
			} else {
				canvas.style.width = "100%";
				canvas.style.height = "90vh";
			}
			loadingBar.style.display = "block";

			var script = document.createElement("script");
			script.src = loaderUrl;
			script.onload = () => {
				createUnityInstance(canvas, config, (progress) => {
					progressBarFull.style.width = 100 * progress + "%";
				})
					.then((unityInstance) => {
						loadingBar.style.display = "none";
						fullscreenButton.onclick = () => {
							unityInstance.SetFullscreen(1);
						};
					})
					.catch((message) => {
						alert(message);
					});
			};
			document.body.appendChild(script);
		</script>
	</body>
</html>
